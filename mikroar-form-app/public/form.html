<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MikroAR Anket</title>
  <meta name="description" content="Hızlı ve güvenli çevrimiçi anket deneyimi." />
  <link id="canonical" rel="canonical" href="https://form.mikroar.com/form.html" />

  <style>
    :root { --gap: 12px; }
    body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
    .wrap { max-width: 720px; margin: 0 auto; padding: 24px; }
    .skel { display: grid; gap: var(--gap); }
    .sk { background: #eee; height: 16px; border-radius: 8px; animation: p 1.2s infinite; }
    .sk.big { height: 44px; }
    @keyframes p { 0%{opacity:.6} 50%{opacity:1} 100%{opacity:.6} }
    .error { background:#fff7f7; border:1px solid #ffd3d3; color:#b00020; padding:12px; border-radius:8px; display:none; }
    .hidden { display:none; }
    .btn { padding:10px 16px; border-radius:8px; border:1px solid #ddd; background:#111; color:#fff; cursor:pointer; }
    .field { margin: 18px 0; }
    .q { padding:12px; border-radius:12px; transition: background 200ms, box-shadow 200ms; }
    .q.focus { background:#f9fafb; box-shadow: inset 0 0 0 2px #e5e7eb; }
    .q.checked { background:#fffef2; box-shadow: inset 0 0 0 2px #fde68a; } /* hafif efekt */
    label { display:block; margin:6px 0; cursor:pointer; }
    .kvkk-inline { margin-top: 16px; padding:12px; background:#f7f8fa; border:1px solid #e7eaf0; border-radius:8px; }
  </style>
</head>
<body>
  <div class="wrap">
    <div id="skeleton" class="skel">
      <div class="sk big"></div>
      <div class="sk"></div><div class="sk"></div><div class="sk"></div>
    </div>

    <div id="error" class="error"></div>
    <div id="app" class="hidden"></div>
  </div>

  <script src="/app.js" defer></script>
  <script>
    // Canonical'ı dinamik güncelle (slug/code geldiyse)
    (function(){
      const u = new URL(location.href);
      const c = document.getElementById('canonical');
      const slug = u.searchParams.get('slug');
      const k = u.searchParams.get('k');
      if (slug) c.href = `https://form.mikroar.com/form.html?slug=${encodeURIComponent(slug)}`;
      else if (k) c.href = `https://form.mikroar.com/form.html?k=${encodeURIComponent(k)}`;
    })();
  </script>
</body>
</html>
