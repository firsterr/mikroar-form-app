<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Teşekkürler</title>
  <style>
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;background:#f8fafc}
    .wrap{max-width:720px;margin:0 auto;padding:40px}
    .card{background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:24px;box-shadow:0 1px 2px rgba(0,0,0,.04)}
    .muted{color:#6b7280;font-size:12px;line-height:1.5;margin-top:12px}
    .badge{display:inline-block;margin-top:8px;padding:4px 8px;border-radius:999px;font-size:12px;border:1px solid #e5e7eb}
    .ok{background:#ecfdf5;border-color:#a7f3d0}
    .dup{background:#fff7ed;border-color:#fed7aa}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1 id="title">Teşekkürler!</h1>
      <p id="msg">Yanıtınız kaydedildi.</p>
      <div id="badge" class="badge ok">Kayıt başarılı</div>
      <div class="muted">
        Bu form mikroar.com alanında oluşturuldu.<br>
        iletisim@mikroar.com<br>
        Mikroar Formlar
      </div>
    </div>
  </div>
  <script>
    (function(){
      const raw = sessionStorage.getItem("mikroar_thanks");
      let reason = "ok";
      try { reason = JSON.parse(raw||"{}").reason || "ok"; } catch {}
      sessionStorage.removeItem("mikroar_thanks");

      const title = document.getElementById("title");
      const msg   = document.getElementById("msg");
      const badge = document.getElementById("badge");

      if (reason === "duplicate") {
        title.textContent = "Daha önce yanıt vermişsiniz";
        msg.textContent   = "Bu formu aynı bağlantıdan daha önce göndermiş olduğunuz için yeni kayıt alınmadı (IP kontrolü).";
        badge.textContent = "Tekrarlı gönderim";
        badge.className = "badge dup";
      }
    })();
  </script>
</body>
</html>
