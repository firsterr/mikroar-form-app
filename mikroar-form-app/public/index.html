<!doctype html>
<html lang="tr"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>Formlar</title><link rel="stylesheet" href="/form.css">
</head><body>
<main>
  <h1>Formlar</h1>
  <ul id="list"></ul>
</main>
<script>
(async () => {
  const ul = document.querySelector('#list');
  const r = await fetch('/api/forms-list');
  const j = await r.json().catch(()=>({}));
  if (!j.ok) { ul.innerHTML = '<li>Liste alınamadı</li>'; return; }
  ul.innerHTML = j.forms.map(f => `
    <li>
      <strong>${f.title || f.slug}</strong>
      — <a href="/form.html?slug=${encodeURIComponent(f.slug)}">Doldur</a>
      — <a href="/results.html?slug=${encodeURIComponent(f.slug)}">Sonuçlar</a>
      — <a href="/share/${encodeURIComponent(f.slug)}" target="_blank">Paylaş</a>
    </li>`).join('');
})();
</script>
</body></html>
